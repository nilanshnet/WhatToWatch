{"remainingRequest":"/Users/nilanshnetan/Desktop/GitHub/WhatToWatch/Frontend/node_modules/babel-loader/lib/index.js!/Users/nilanshnetan/Desktop/GitHub/WhatToWatch/Frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/nilanshnetan/Desktop/GitHub/WhatToWatch/Frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nilanshnetan/Desktop/GitHub/WhatToWatch/Frontend/src/views/AccountPage.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/nilanshnetan/Desktop/GitHub/WhatToWatch/Frontend/src/views/AccountPage.vue","mtime":1621470842145},{"path":"/Users/nilanshnetan/Desktop/GitHub/WhatToWatch/Frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nilanshnetan/Desktop/GitHub/WhatToWatch/Frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/nilanshnetan/Desktop/GitHub/WhatToWatch/Frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nilanshnetan/Desktop/GitHub/WhatToWatch/Frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL25pbGFuc2huZXRhbi9EZXNrdG9wL0dpdEh1Yi9XaGF0VG9XYXRjaC9Gcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvVXNlcnMvbmlsYW5zaG5ldGFuL0Rlc2t0b3AvR2l0SHViL1doYXRUb1dhdGNoL0Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgTXVsdGlzZWxlY3QgZnJvbSAidnVlLW11bHRpc2VsZWN0IjsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IHsgQXV0aCB9IGZyb20gImF3cy1hbXBsaWZ5IjsKaW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gInZ1ZXgiOwoKdmFyIGNvbmZpZyA9IHJlcXVpcmUoIi4uL2NvbmZpZy5qcyIpOwoKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIE11bHRpc2VsZWN0OiBNdWx0aXNlbGVjdAogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHBheWxvYWQ6IHt9LAogICAgICBpc0VkaXRpbmc6IGZhbHNlLAogICAgICBzZWxlY3RlZDogbnVsbCwKICAgICAgb3B0aW9uczogWyJBY3Rpb24iLCAiQWR2ZW50dXJlIiwgIkFuaW1hdGlvbiIsICJDb21lZHkiLCAiRHJhbWEiLCAiRmFudGFzeSIsICJGYW1pbHkiLCAiSG9ycm9yIiwgIktpZHMiLCAiTXlzdGVyeSIsICJSb21hbmNlIiwgIlNjaWVuY2UgRmljdGlvbiIsICJUaHJpbGxlciJdCiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMubG9hZCgpOwogIH0sCiAgbWV0aG9kczogewogICAgc2F2ZTogZnVuY3Rpb24gc2F2ZSgpIHsKICAgICAgY29uc29sZS5sb2codGhpcy4kc3RvcmUuc3RhdGUuYXV0aC51c2VyKTsKICAgICAgdGhpcy5wYXlsb2FkID0gewogICAgICAgIGdlbnJlOiB0aGlzLnNlbGVjdGVkLAogICAgICAgIHVzZXJpZDogdGhpcy4kc3RvcmUuc3RhdGUuYXV0aC51c2VyLnVzZXJuYW1lCiAgICAgIH07CiAgICAgIHRoaXMuaXNFZGl0aW5nID0gIXRoaXMuaXNFZGl0aW5nOwogICAgICBheGlvcyh7CiAgICAgICAgbWV0aG9kOiAiUE9TVCIsCiAgICAgICAgdXJsOiBjb25maWcuYXBpLmludm9rZVVybCArICIvYWNjb3VudC91cGRhdGUiLAogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgIEF1dGhvcml6YXRpb246IHRoaXMuJHN0b3JlLnN0YXRlLmF1dGgudG9rZW4sCiAgICAgICAgICAiQ29udGVudC1UeXBlIjogImFwcGxpY2F0aW9uL2pzb24iCiAgICAgICAgfSwKICAgICAgICBkYXRhOiB0aGlzLnBheWxvYWQKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAvLyBoYW5kbGUgc3VjY2VzcwogICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlWyJkYXRhIl0pOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAvLyBoYW5kbGUgZXJyb3IKICAgICAgICBjb25zb2xlLmVycm9yKCJFcnJvcjogIiwgZXJyb3IpOwogICAgICB9KTsKICAgIH0sCiAgICBsb2FkOiBmdW5jdGlvbiBsb2FkKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBBdXRoLmN1cnJlbnRTZXNzaW9uKCkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MoewogICAgICAgICAgICAgICAgICAgIG1ldGhvZDogIkdFVCIsCiAgICAgICAgICAgICAgICAgICAgdXJsOiBjb25maWcuYXBpLmludm9rZVVybCArICIvYWNjb3VudCIsCiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogZGF0YS5pZFRva2VuLmp3dFRva2VuCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgICAgICAgICAgICAgIHVzZXJpZDogX3RoaXMuJHN0b3JlLnN0YXRlLmF1dGgudXNlci51c2VybmFtZQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICAvLyBoYW5kbGUgc3VjY2VzcwogICAgICAgICAgICAgICAgICAgIF90aGlzLnNlbGVjdGVkID0gcmVzcG9uc2VbImRhdGEiXTsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhfdGhpcy5zZWxlY3RlZCk7CiAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICAgICAgICAgIC8vIGhhbmRsZSBlcnJvcgogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoIkVycm9yOiAiLCBlcnJvcik7CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0KICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKHt9LCBtYXBHZXR0ZXJzKHsKICAgIHVzZXI6ICJhdXRoL3VzZXIiCiAgfSkpCn07"},{"version":3,"sources":["AccountPage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6EA,OAAA,WAAA,MAAA,iBAAA;AACA,OAAA,KAAA,MAAA,OAAA;AACA,SAAA,IAAA,QAAA,aAAA;AACA,SAAA,UAAA,QAAA,MAAA;;AACA,IAAA,MAAA,GAAA,OAAA,CAAA,cAAA,CAAA;;AAEA,eAAA;AACA,EAAA,UAAA,EAAA;AAAA,IAAA,WAAA,EAAA;AAAA,GADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,OAAA,EAAA,EADA;AAEA,MAAA,SAAA,EAAA,KAFA;AAGA,MAAA,QAAA,EAAA,IAHA;AAIA,MAAA,OAAA,EAAA,CAAA,QAAA,EAAA,WAAA,EAAA,WAAA,EAAA,QAAA,EAAA,OAAA,EAAA,SAAA,EAAA,QAAA,EAAA,QAAA,EAAA,MAAA,EAAA,SAAA,EAAA,SAAA,EAAA,iBAAA,EAAA,UAAA;AAJA,KAAA;AAMA,GATA;AAUA,EAAA,OAVA,qBAUA;AACA,SAAA,IAAA;AACA,GAZA;AAaA,EAAA,OAAA,EAAA;AACA,IAAA,IADA,kBACA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,KAAA,MAAA,CAAA,KAAA,CAAA,IAAA,CAAA,IAAA;AACA,WAAA,OAAA,GAAA;AACA,QAAA,KAAA,EAAA,KAAA,QADA;AAEA,QAAA,MAAA,EAAA,KAAA,MAAA,CAAA,KAAA,CAAA,IAAA,CAAA,IAAA,CAAA;AAFA,OAAA;AAIA,WAAA,SAAA,GAAA,CAAA,KAAA,SAAA;AACA,MAAA,KAAA,CAAA;AACA,QAAA,MAAA,EAAA,MADA;AAEA,QAAA,GAAA,EAAA,MAAA,CAAA,GAAA,CAAA,SAAA,GAAA,iBAFA;AAGA,QAAA,OAAA,EAAA;AACA,UAAA,aAAA,EAAA,KAAA,MAAA,CAAA,KAAA,CAAA,IAAA,CAAA,KADA;AAEA,0BAAA;AAFA,SAHA;AAOA,QAAA,IAAA,EAAA,KAAA;AAPA,OAAA,CAAA,CASA,IATA,CASA,UAAA,QAAA,EAAA;AACA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,QAAA,CAAA,MAAA,CAAA;AACA,OAZA,EAaA,KAbA,CAaA,UAAA,KAAA,EAAA;AACA;AACA,QAAA,OAAA,CAAA,KAAA,CAAA,SAAA,EAAA,KAAA;AACA,OAhBA;AAiBA,KAzBA;AA0BA,IAAA,IA1BA,kBA0BA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,IAAA,CAAA,cAAA,GAAA,IAAA,CAAA,UAAA,IAAA;AAAA,yBACA,KAAA,CAAA;AACA,oBAAA,MAAA,EAAA,KADA;AAEA,oBAAA,GAAA,EAAA,MAAA,CAAA,GAAA,CAAA,SAAA,GAAA,UAFA;AAGA,oBAAA,OAAA,EAAA;AACA,sBAAA,aAAA,EAAA,IAAA,CAAA,OAAA,CAAA;AADA,qBAHA;AAMA,oBAAA,MAAA,EAAA;AACA,sBAAA,MAAA,EAAA,KAAA,CAAA,MAAA,CAAA,KAAA,CAAA,IAAA,CAAA,IAAA,CAAA;AADA;AANA,mBAAA,CAAA,CAUA,IAVA,CAUA,UAAA,QAAA,EAAA;AACA;AACA,oBAAA,KAAA,CAAA,QAAA,GAAA,QAAA,CAAA,MAAA,CAAA;AACA,oBAAA,OAAA,CAAA,GAAA,CAAA,KAAA,CAAA,QAAA;AACA,mBAdA,EAeA,KAfA,CAeA,UAAA,KAAA,EAAA;AACA;AACA,oBAAA,OAAA,CAAA,KAAA,CAAA,SAAA,EAAA,KAAA;AACA,mBAlBA,CADA;AAAA,iBAAA,CADA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAsBA;AAhDA,GAbA;AA+DA,EAAA,QAAA,oBACA,UAAA,CAAA;AACA,IAAA,IAAA,EAAA;AADA,GAAA,CADA;AA/DA,CAAA","sourcesContent":["<template>\n  <div class=\"container\">\n    <div class=\"row\">\n      <aside class=\"col-sm-5\" style=\"margin: auto\">\n        <div class=\"card\">\n          <article class=\"card-body\">\n            <h4 class=\"card-title text-center mb-4 mt-1\">Preference</h4>\n            <div style=\"display: flex\">\n              <div style=\"margin-right: 10px; font-weight: bold\">Username:</div>\n\n              <p style=\"margin-right: 5px\">\n                {{ user.username }}\n              </p>\n            </div>\n            <div style=\"display: flex\">\n              <div style=\"margin-right: 10px; font-weight: bold\">Name:</div>\n\n              <p style=\"margin-right: 5px\">\n                {{ user.attributes.name }}\n              </p>\n              \n            </div>\n             <div style=\"display: flex\">\n              <div style=\"margin-right: 10px; font-weight: bold\">Email:</div>\n\n              <p style=\"margin-right: 5px\">\n                {{ user.attributes.email }}\n              </p>\n              \n            </div>\n\n            <div v-if=\"!isEditing\" style=\"display: flex\">\n              <div style=\"margin-right: 10px; font-weight: bold\">Genre(s):</div>\n\n              <p style=\"margin-right: 5px\" v-for=\"item in selected\" :key=\"item\">\n                {{ item }};\n              </p>\n            </div>\n            <div v-if=\"isEditing\" style=\"display: flex\">\n              <div style=\"margin-right: 10px; font-weight: bold\">Genre(s):</div>\n              <multiselect\n                id=\"sel\"\n                v-model=\"selected\"\n                :multiple=\"true\"\n                :options=\"options\"\n              >\n              </multiselect>\n            </div>\n            <b-card-footer>\n              <b-button\n                variant=\"success\"\n                @click=\"isEditing = !isEditing\"\n                v-if=\"!isEditing\"\n              >\n                Edit\n              </b-button>\n              <b-button variant=\"success\" @click=\"save\" v-else-if=\"isEditing\">\n                Save\n              </b-button>\n\n              <b-button\n                variant=\"secondary\"\n                style=\"margin-left: 10px\"\n                v-if=\"isEditing\"\n                @click=\"isEditing = false\"\n              >\n                Cancel\n              </b-button>\n            </b-card-footer>\n          </article>\n        </div>\n      </aside>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Multiselect from \"vue-multiselect\";\nimport axios from \"axios\";\nimport { Auth } from \"aws-amplify\";\nimport { mapGetters } from \"vuex\";\nvar config = require(\"../config.js\");\n\nexport default {\n  components: { Multiselect },\n  data() {\n    return {\n      payload: {},\n      isEditing: false,\n      selected: null,\n      options: [\"Action\", \"Adventure\", \"Animation\", \"Comedy\", \"Drama\", \"Fantasy\", \"Family\", \"Horror\", \"Kids\", \"Mystery\", \"Romance\", \"Science Fiction\", \"Thriller\" ],\n    };\n  },\n  mounted() {\n    this.load();\n  },\n  methods: {\n    save() {\n      console.log(this.$store.state.auth.user);\n      this.payload = {\n        genre: this.selected,\n        userid: this.$store.state.auth.user.username,\n      };\n      this.isEditing = !this.isEditing;\n      axios({\n        method: \"POST\",\n        url: config.api.invokeUrl + \"/account/update\",\n        headers: {\n          Authorization: this.$store.state.auth.token,\n          \"Content-Type\": \"application/json\",\n        },\n        data: this.payload,\n      })\n        .then((response) => {\n          // handle success\n          console.log(response[\"data\"]);\n        })\n        .catch(function (error) {\n          // handle error\n          console.error(\"Error: \", error);\n        });\n    },\n    async load() {\n      await Auth.currentSession().then((data) =>\n        axios({\n          method: \"GET\",\n          url: config.api.invokeUrl + \"/account\",\n          headers: {\n            Authorization: data.idToken.jwtToken,\n          },\n          params: {\n            userid: this.$store.state.auth.user.username,\n          },\n        })\n          .then((response) => {\n            // handle success\n            this.selected = response[\"data\"];\n            console.log(this.selected);\n          })\n          .catch(function (error) {\n            // handle error\n            console.error(\"Error: \", error);\n          })\n      );\n    },\n  },\n  computed: {\n    ...mapGetters({\n      user: \"auth/user\",\n    }),\n  },\n};\n</script>\n\n     \n<style src=\"vue-multiselect/dist/vue-multiselect.min.css\">\n</style>\n<style lang=\"scss\" scoped>\n.card {\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  min-width: 0;\n  word-wrap: break-word;\n  background-color: black;\n  background-clip: border-box;\n  border: 1px solid white;\n  border-radius: 0.25rem;\n}\n</style>"],"sourceRoot":"src/views"}]}