{"remainingRequest":"/Users/nilanshnetan/Desktop/NYU-Spring21/Cloud/FinalProject/final-project-cloud-vue/node_modules/babel-loader/lib/index.js!/Users/nilanshnetan/Desktop/NYU-Spring21/Cloud/FinalProject/final-project-cloud-vue/node_modules/eslint-loader/index.js??ref--13-0!/Users/nilanshnetan/Desktop/NYU-Spring21/Cloud/FinalProject/final-project-cloud-vue/src/router/index.js","dependencies":[{"path":"/Users/nilanshnetan/Desktop/NYU-Spring21/Cloud/FinalProject/final-project-cloud-vue/src/router/index.js","mtime":1620868579770},{"path":"/Users/nilanshnetan/Desktop/NYU-Spring21/Cloud/FinalProject/final-project-cloud-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nilanshnetan/Desktop/NYU-Spring21/Cloud/FinalProject/final-project-cloud-vue/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/nilanshnetan/Desktop/NYU-Spring21/Cloud/FinalProject/final-project-cloud-vue/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9uaWxhbnNobmV0YW4vRGVza3RvcC9OWVUtU3ByaW5nMjEvQ2xvdWQvRmluYWxQcm9qZWN0L2ZpbmFsLXByb2plY3QtY2xvdWQtdnVlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7CmltcG9ydCBWdWVSb3V0ZXIgZnJvbSAndnVlLXJvdXRlcic7CmltcG9ydCB7IEF1dGggfSBmcm9tICdhd3MtYW1wbGlmeSc7IC8vIGltcG9ydCB7IGNvbXBvbmVudCB9IGZyb20gJ3Z1ZS90eXBlcy91bWQnCgppbXBvcnQgTG9naW5QYWdlIGZyb20gJy4uL3ZpZXdzL0xvZ2luUGFnZS52dWUnOwppbXBvcnQgU2lnblVwUGFnZSBmcm9tICcuLi92aWV3cy9TaWduVXBQYWdlLnZ1ZSc7CmltcG9ydCBTZWFyY2hQYWdlIGZyb20gJy4uL3ZpZXdzL1NlYXJjaFBhZ2UudnVlJzsKaW1wb3J0IEFjY291bnRQYWdlIGZyb20gJy4uL3ZpZXdzL0FjY291bnRQYWdlLnZ1ZSc7CmltcG9ydCBIb21lUGFnZSBmcm9tICcuLi92aWV3cy9Ib21lUGFnZS52dWUnOwppbXBvcnQgU29jaWFsUGFnZSBmcm9tICcuLi92aWV3cy9Tb2NpYWxQYWdlLnZ1ZSc7CmltcG9ydCBGcmllbmRQYWdlIGZyb20gJy4uL3ZpZXdzL0ZyaWVuZFBhZ2UudnVlJzsKVnVlLnVzZShWdWVSb3V0ZXIpOwp2YXIgcm91dGVzID0gW3sKICBwYXRoOiAnLycsCiAgbmFtZTogJ0xvZ2luUGFnZScsCiAgY29tcG9uZW50OiBMb2dpblBhZ2UKfSwgewogIHBhdGg6ICcvc2lnbnVwJywKICBuYW1lOiAiU2lnblVwUGFnZSIsCiAgY29tcG9uZW50OiBTaWduVXBQYWdlCn0sIHsKICBwYXRoOiAnL2hvbWUnLAogIG5hbWU6ICdIb21lUGFnZScsCiAgY29tcG9uZW50OiBIb21lUGFnZSwKICBtZXRhOiB7CiAgICByZXF1aXJlc0F1dGg6IHRydWUKICB9Cn0sIHsKICBwYXRoOiAnL3NlYXJjaCcsCiAgbmFtZTogIlNlYXJjaFBhZ2UiLAogIGNvbXBvbmVudDogU2VhcmNoUGFnZSwKICBtZXRhOiB7CiAgICByZXF1aXJlc0F1dGg6IHRydWUKICB9Cn0sIHsKICBwYXRoOiAnL2ZyaWVuZCcsCiAgbmFtZTogIkZyaWVuZFBhZ2UiLAogIGNvbXBvbmVudDogRnJpZW5kUGFnZSwKICBtZXRhOiB7CiAgICByZXF1aXJlc0F1dGg6IHRydWUKICB9Cn0sIHsKICBwYXRoOiAnL2FjY291bnQnLAogIG5hbWU6ICJBY2NvdW50UGFnZSIsCiAgY29tcG9uZW50OiBBY2NvdW50UGFnZSwKICBtZXRhOiB7CiAgICByZXF1aXJlc0F1dGg6IHRydWUKICB9Cn0sIHsKICBwYXRoOiAnL3NvY2lhbCcsCiAgbmFtZTogIlNvY2lhbFBhZ2UiLAogIGNvbXBvbmVudDogU29jaWFsUGFnZSwKICBtZXRhOiB7CiAgICByZXF1aXJlc0F1dGg6IHRydWUKICB9Cn1dOwp2YXIgcm91dGVyID0gbmV3IFZ1ZVJvdXRlcih7CiAgbW9kZTogJ2hpc3RvcnknLAogIGJhc2U6IHByb2Nlc3MuZW52LkJBU0VfVVJMLAogIHJvdXRlczogcm91dGVzCn0pOwpyb3V0ZXIuYmVmb3JlRWFjaCggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSh0bywgZnJvbSwgbmV4dCkgewogICAgdmFyIHJlcXVpcmVzQXV0aCwgaXNBdXRoZW50aWNhdGVkOwogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICByZXF1aXJlc0F1dGggPSB0by5tYXRjaGVkLnNvbWUoZnVuY3Rpb24gKHJlY29yZCkgewogICAgICAgICAgICAgIHJldHVybiByZWNvcmQubWV0YS5yZXF1aXJlc0F1dGg7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgcmV0dXJuIEF1dGguY3VycmVudFVzZXJJbmZvKCk7CgogICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICBpc0F1dGhlbnRpY2F0ZWQgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICBjb25zb2xlLmxvZyhpc0F1dGhlbnRpY2F0ZWQpOwoKICAgICAgICAgICAgaWYgKHJlcXVpcmVzQXV0aCAmJiAhaXNBdXRoZW50aWNhdGVkKSB7CiAgICAgICAgICAgICAgbmV4dCgiLyIpOwogICAgICAgICAgICB9IGVsc2UgaWYgKGlzQXV0aGVudGljYXRlZCAmJiAhcmVxdWlyZXNBdXRoKSB7CiAgICAgICAgICAgICAgbmV4dCgiL2hvbWUiKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBuZXh0KCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZSk7CiAgfSkpOwoKICByZXR1cm4gZnVuY3Rpb24gKF94LCBfeDIsIF94MykgewogICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICB9Owp9KCkpOwpleHBvcnQgZGVmYXVsdCByb3V0ZXI7"},{"version":3,"sources":["/Users/nilanshnetan/Desktop/NYU-Spring21/Cloud/FinalProject/final-project-cloud-vue/src/router/index.js"],"names":["Vue","VueRouter","Auth","LoginPage","SignUpPage","SearchPage","AccountPage","HomePage","SocialPage","FriendPage","use","routes","path","name","component","meta","requiresAuth","router","mode","base","process","env","BASE_URL","beforeEach","to","from","next","matched","some","record","currentUserInfo","isAuthenticated","console","log"],"mappings":"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","sourcesContent":["import Vue from 'vue'\nimport VueRouter from 'vue-router'\nimport { Auth } from 'aws-amplify';\n// import { component } from 'vue/types/umd'\nimport LoginPage from '../views/LoginPage.vue'\nimport SignUpPage from '../views/SignUpPage.vue'\nimport SearchPage from '../views/SearchPage.vue'\nimport AccountPage from '../views/AccountPage.vue'\nimport HomePage from '../views/HomePage.vue'\nimport SocialPage from '../views/SocialPage.vue'\nimport FriendPage from '../views/FriendPage.vue'\n\nVue.use(VueRouter)\n\nconst routes = [\n  {\n    path: '/',\n    name: 'LoginPage',\n    component: LoginPage\n  },\n  {\n    path: '/signup',\n    name: \"SignUpPage\",\n    component: SignUpPage\n  },\n  {\n    path: '/home',\n    name: 'HomePage',\n    component: HomePage,\n    meta: {requiresAuth: true}\n  },\n  {\n    path: '/search',\n    name: \"SearchPage\",\n    component: SearchPage,\n    meta: {requiresAuth: true}\n  },\n  {\n    path: '/friend',\n    name: \"FriendPage\",\n    component: FriendPage,\n    meta: {requiresAuth: true}\n  },\n  {\n    path: '/account',\n    name: \"AccountPage\",\n    component: AccountPage,\n    meta: {requiresAuth: true}\n  },\n  {\n    path: '/social',\n    name: \"SocialPage\",\n    component: SocialPage,\n    meta: {requiresAuth: true}\n  }\n]\n\nconst router = new VueRouter({\n  mode: 'history',\n  base: process.env.BASE_URL,\n  routes\n})\n\nrouter.beforeEach(async (to, from, next) => {\n  const requiresAuth = to.matched.some(record => record.meta.requiresAuth);\n  const isAuthenticated = await Auth.currentUserInfo();\n  console.log(isAuthenticated);\n\n  if (requiresAuth && !isAuthenticated) {\n    next(\"/\");\n  } else if (isAuthenticated && !requiresAuth){\n    next(\"/home\")\n  }\n  else{\n    next()\n  }\n\n})\n\nexport default router"]}]}